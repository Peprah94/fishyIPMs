install.packages("devtools")
devtools::install_github("Peprah94/myphdthesis")
devtools::install_github("Peprah94/nimMCMCSMCupdates")
library(nimble)
library(inlabru)
install.packages("INLA",repos=c(getOption("repos"),INLA="https://inla.r-inla-download.org/R/stable"), dep=TRUE)
library(INLA)
#load packages
library(nimble)
library(dplyr)
setwd("C:/GitHub/fishyIPMs")
# set working directory.
#change this for your particular application
setwd("C:/GitHub/fishyIPMs")
# load data
Example1 <- read_delim("Example1.csv",
delim = ";",
escape_double = FALSE,
trim_ws = TRUE)
library(readr)
# set working directory.
#change this for your particular application
setwd("C:/GitHub/fishyIPMs")
# load data
Example1 <- read_delim("Example1.csv",
delim = ";",
escape_double = FALSE,
trim_ws = TRUE)
# load data
Example1 <- read_delim("dataset/Example1.csv",
delim = ";",
escape_double = FALSE,
trim_ws = TRUE)
View(Example1)
# load data
popnData <- read_delim("dataset/Example1.csv",
delim = ";",
escape_double = FALSE,
trim_ws = TRUE)
colnames(popnData)[c(2,3)] <- c("climateZone",
"lakeNumber")
View(popnData)
View(Example1)
colnames(popnData)[c(2,3,4,5,8,10)] <- c("climateZone",
"lakeNumber",
"lineNumber",
"date",
"lakeName",
"gillnetNumber")
View(popnData)
colnames(popnData)[c(2,3,4,5,8,10,12)] <- c("climateZone",
"lakeNumber",
"lineNumber",
"date",
"lakeName",
"gillnetNumber",
"gillnetMeshSize")
colnames(popnData)
colnames(popnData)[c(2:5,8,10,12,16)] <- c("climateZone",
"lakeNumber",
"lineNumber",
"date",
"lakeName",
"gillnetNumber",
"gillnetMeshSize",
"speciesName")
colnames(popnData)[c(2:5,8,10,12,16)] <- c("climateZone",
"lakeNumber",
"lineNumber",
"date",
"lakeName",
"gillnetNumber",
"gillnetMeshSize",
"speciesName")
colnames(popnData)
colnames(popnData)[c(2:5,8,10,12,16:25,29:30)] <- c("climateZone",
"lakeNumber",
"lineNumber",
"date",
"lakeName",
"gillnetNumber",
"gillnetMeshSize",
"speciesName",
"fishLength",
"fishWeight",
"fishFat",
"gonadWeight",
"sex",
"maturationStage",
"maturation",
"revisedMaturation",
"stomachContent",
"otoliothRadius",
"captureAge")
colnames(popnData)
popnData[,16]
unique(popnData[,16])
unique(popnData[,22])
unique(popnData[,23])
table(popnData[, 22], popnData[, 23])
?table
table(c(popnData[, 22]), c(popnData[, 23]))
# load data
popnData <- read_delim("dataset/Example1.csv",
delim = ";",
escape_double = FALSE,
trim_ws = TRUE)
colnames(popnData)[c(2:5,8,10,12,16:25,29:30)] <- c("climateZone",
"lakeNumber",
"lineNumber",
"date",
"lakeName",
"gillnetNumber",
"gillnetMeshSize",
"speciesName",
"fishLength",
"fishWeight",
"fishFat",
"gonadWeight",
"sex",
"maturationStage",
"maturation",
"revisedMaturation",
"stomachContent",
"otoliothRadius",
"captureAge")
popnData <- popnData[complete.cases(popnData[, c("maturationStage", "maturation")])]
popnData[, c("maturationStage", "maturation")]
popnData <- popnData[complete.cases(popnData[, c("maturationStage", "maturation")]),
]
View(popnData)
table(c(popnData[, 22]), c(popnData[, 23]))
# remove NAs from some selected columns
popnData <- popnData[complete.cases(popnData[, c("maturationStage", "maturation")]),] %>%
dplyr::mutate(maturationStage = as.numeric(maturationStage))
# remove NAs from some selected columns
popnData <- popnData[complete.cases(popnData[, c("maturationStage", "maturation")]),] %>%
dplyr::mutate(maturationStage = as.numeric(maturationStage),
maturation = as.numeric(maturation))
table(c(popnData[, 22]), c(popnData[, 23]))
#Just one species
c(popnData[, 22])
c(popnData[, 23])
s <- c(popnData[, 23])$maturation
table(s,r)
#Just one species
r <- c(popnData[, 22])$maturationStage
s <- c(popnData[, 23])$maturation
table(s,r)
# Individual dataset
indData <- read_delim("dataset/Example2.csv",
delim = ";",
escape_double = FALSE,
trim_ws = TRUE)
colnames(indData)
colnames(indData)[c(1:6,8:34)] <- c("lengthYrBefore",
"legthAtAgeThisYear",
"yearGrowthOcc",
"ageGrowthOcc",
"ageAtYr",
"fishID",
"climateZone",
"locationNumber",
"metersAboveSea",
"lineNumber",
"date",
"year",
"period",
"lakeName",
"fishAge",
"fishLength",
"fishWeight",
"sex",
"maturationStage",
"maturation",
"ageAtGrowth",
"growth",
"instanteneousGrowth",
"capturePerUnitEffort",
"temperatureMeanInMay",
"temperatureMeanInJune",
"temperatureMeanInJuly",
"precipitationSumInMay",
"precipitationSumInJune",
"precipitationSumInJuly",
"temperatureMeanInSummer",
"precipitationSumDuringSummer",
"NAOwinterIndex")
indData
# catchment variables
catchmentVars <- read_csv("dataset/NO_all_vars_over_catchments.csv")
View(catchmentVars)
colnames(catchmentVars)
indData$locationNumber
catchmentVars$vatnLnr
